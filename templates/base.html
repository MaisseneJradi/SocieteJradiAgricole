{% load static %}
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="max-age=604800" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="google-site-verification" content="JrDCA-dJdJVzLVgqPF_gERsNto_9_xyLacMagsG3sOM" />
<title>AgriShop</title>

<link href="{%static 'images/favicon.png' %}" rel="shortcut icon" type="image/x-icon">

<!-- jQuery -->
<script src="{% static 'js/jquery-2.0.0.min.js' %}" type="text/javascript"></script>

<!-- Bootstrap4 files-->
<script src="{% static 'js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>
<link href="{% static 'css/bootstrap.css' %}" rel="stylesheet" type="text/css"/>

<!-- Font awesome 5 -->
<link href="{% static 'fonts/fontawesome/css/all.min.css' %}" type="text/css" rel="stylesheet">
<!-- Dans le <head> de base.html -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css">

<!-- Avant </body> dans base.html -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>
<!-- custom style -->
<link href="{% static 'css/ui.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'css/responsive.css' %}" rel="stylesheet" media="only screen and (max-width: 1200px)" />
<link href="{% static 'css/custom.css' %}" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<!-- custom javascript -->
<script src="{% static 'js/script.js' %}" type="text/javascript"></script>

<script type="text/javascript">
/// some script

// jquery ready start
$(document).ready(function() {
	// jQuery code

}); 
// jquery end
</script>

</head>
<body>
{% include 'includes/navbar.html' %}

{% block content %}

{% endblock %}

{% include 'includes/footer.html' %}
  <!-- {% if messages %}   ken theb les notif lkol yghibou ba3d 4 s
      <div style="display: flex; justify-content: center; margin-top: 20px;">
        {% for message in messages %}
          <div 
            class="alert alert-dismissible fade show 
              {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                alert-danger
              {% else %}
                alert-success
              {% endif %}"
            role="alert"
            style="padding: 10px 40px 10px 20px; border-radius: 5px; display: inline-block; text-align: center; margin: 5px; position: relative;"
          >
            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Erreur: {% endif %}
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"
              style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); background: none; border: none; font-size: 1.2rem; line-height: 1; cursor: pointer;">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      </div>
    {% endif %}

     tes scripts JS
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      setTimeout(function(){
        $('.alert').fadeOut('slow', function() { $(this).remove(); });
      }, 4000);
    </script>

   autres scripts -->
</body>
<style>
  .hero-banner {
  background: url('/static/images/banners/1.jpg') no-repeat center center;
  background-size: cover;
  background-attachment: fixed; /* effet qui suit le scroll */
  height: 100vh; /* occupe toute la hauteur de l’écran */
  position: relative;
}

.hero-banner .overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5); /* assombrir pour lisibilité du texte */
}

.category-toggle {
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.category-toggle:hover {
    background-color: #e3f2fd !important;
}
/* Menu mobile accordéon */
.mobile-category-item {
  border-bottom: 1px solid #eee;
}

.category-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1rem;
  background-color: #fff;
  transition: background-color 0.2s;
}

.category-header:hover {
  background-color: #f8f9fa;
}

.mobile-category-link {
  color: #333;
  text-decoration: none;
  font-size: 0.95rem;
  flex: 1;
  display: flex;
  align-items: center;
}

.mobile-category-link:hover {
  color: #007bff;
}

.indent {
  display: inline-block;
  width: 1.2em;
  color: #999;
  font-size: 1.1em;
}

.toggle-btn {
  background: none;
  border: none;
  padding: 0.5rem;
  cursor: pointer;
  color: #666;
  font-size: 1.2em;
  transition: transform 0.3s ease;
}

.mobile-category-item.open > .category-header > .toggle-btn > i {
  transform: rotate(180deg);
}

/* Sous-catégories */
.mobile-subcategories {
  display: none;
  background-color: #f8f9fa;
  border-left: 3px solid #007bff;
  overflow: hidden;
}

.mobile-category-item.open > .mobile-subcategories {
  display: block;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; }
  to { opacity: 1; max-height: 1000px; }
}

/* Hover sur écrans larges (desktop) */
@media (min-width: 992px) {
  .mobile-category-item:hover > .mobile-subcategories {
    display: block;
  }
  
  .mobile-category-item:hover > .category-header > .toggle-btn > i {
    transform: rotate(180deg);
  }
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('.toggle-btn').forEach(function (btn) {
    btn.addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();

      const parentItem = this.closest('.mobile-category-item');
      const isOpen = parentItem.classList.contains('open');

      // Fermer tous les frères au même niveau
      const siblings = parentItem.parentElement.children;
      Array.from(siblings).forEach(sib => {
        if (sib !== parentItem && sib.classList.contains('mobile-category-item')) {
          sib.classList.remove('open');
        }
      });

      // Toggle l'élément courant
      parentItem.classList.toggle('open');
    });
  });

  // Optionnel : fermer en cliquant ailleurs (mobile UX)
  document.addEventListener('click', function () {
    if (window.innerWidth <= 991) {
      document.querySelectorAll('.mobile-category-item.open').forEach(item => {
        item.classList.remove('open');
      });
    }
  });

  // Empêche la fermeture quand on clique dans le menu
  document.querySelectorAll('.mobile-category-item').forEach(item => {
    item.addEventListener('click', function (e) {
      e.stopPropagation();
    });
  });
});
</script>